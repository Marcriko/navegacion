{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectDestructuringEmpty from \"@babel/runtime/helpers/objectDestructuringEmpty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { Button, Icon } from \"react-native-elements\";\nimport * as firebase from \"firebase\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport UserInfo from \"../components/account/UserInfo\";\nimport Toast from \"react-native-easy-toast\";\nimport Loading from \"../components/Loading\";\nimport UserOption from \"../components/account/UserOption\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Profile(props) {\n  _objectDestructuringEmpty(props);\n\n  var navegacion = useNavigation();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      userInfo = _useState2[0],\n      setUserInfo = _useState2[1];\n\n  var toastRef = useRef();\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loadingText = _useState6[0],\n      setLoadingText = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      login = _useState8[0],\n      setLogin = _useState8[1];\n\n  useEffect(function () {\n    firebase.auth().onAuthStateChanged(function (user) {\n      !user ? setLogin(false) : setLogin(true);\n    });\n  }, []);\n  useEffect(function () {\n    (function _callee() {\n      var user;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(firebase.auth().currentUser);\n\n            case 2:\n              user = _context.sent;\n              setUserInfo(user);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n  if (login === null) return _jsx(Loading, {});\n\n  if (login) {\n    return _jsxs(View, {\n      style: styles.userInfo,\n      children: [userInfo && _jsx(UserInfo, {\n        userInfo: userInfo,\n        toastRef: toastRef,\n        setLoading: setLoading,\n        setLoadingText: setLoadingText\n      }), _jsx(UserOption, {\n        userInfo: userInfo,\n        toastRef: toastRef\n      }), _jsxs(View, {\n        style: styles.containerButtons,\n        children: [_jsxs(View, {\n          style: styles.btnReportes,\n          children: [_jsx(Icon, {\n            type: \"material-community\",\n            name: \"text-box-search-outline\",\n            iconStyle: styles.icon\n          }), _jsx(TouchableOpacity, {\n            children: _jsx(Text, {\n              style: styles.textReportes,\n              onPress: function onPress() {\n                return navegacion.navigate(\"listReportes\");\n              },\n              children: \"Ver reportes\"\n            })\n          })]\n        }), _jsxs(View, {\n          style: styles.btnReportes,\n          children: [_jsx(Icon, {\n            type: \"material-community\",\n            name: \"note-plus-outline\",\n            iconStyle: styles.icon\n          }), _jsx(TouchableOpacity, {\n            children: _jsx(Text, {\n              style: styles.textReportes,\n              onPress: function onPress() {\n                return navegacion.navigate(\"agregarNoticia\");\n              },\n              children: \"Agregar Noticias\"\n            })\n          })]\n        })]\n      }), _jsx(Button, {\n        title: \"Cerrar Sesi\\xF3n\",\n        buttonStyle: styles.btnCloseSession,\n        titleStyle: styles.btnTitle,\n        onPress: function onPress() {\n          firebase.auth().signOut();\n          navegacion.navigate(\"index\");\n        }\n      }), _jsx(Toast, {\n        ref: toastRef,\n        position: \"center\",\n        opacity: 0.9\n      }), _jsx(Loading, {\n        isVisible: loading,\n        text: loadingText\n      })]\n    });\n  } else {\n    return _jsxs(View, {\n      style: {\n        alignItems: \"center\"\n      },\n      children: [_jsx(Image, {\n        style: styles.logo,\n        resizeMode: \"contain\",\n        source: require(\"../../assets/cecadec.jpg\")\n      }), _jsx(TouchableOpacity, {\n        style: styles.btnContainer,\n        children: _jsx(Text, {\n          style: styles.btnText,\n          onPress: function onPress() {\n            return navegacion.navigate(\"index\");\n          },\n          children: \"Debes Iniciar Sesi\\xF3n\"\n        })\n      })]\n    });\n  }\n}\nvar styles = StyleSheet.create({\n  btnContainer: {\n    width: \"90%\",\n    borderRadius: 10,\n    backgroundColor: \"#1b3258\",\n    marginTop: 100,\n    padding: 5,\n    paddingHorizontal: 15\n  },\n  btnText: {\n    color: \"#fff\",\n    fontSize: 18\n  },\n  userInfo: {\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    height: \"100%\"\n  },\n  btnCloseSession: {\n    marginTop: 40,\n    backgroundColor: \"#1b3258\",\n    borderRadius: 10,\n    padding: 7,\n    paddingHorizontal: 30\n  },\n  btnTitle: {\n    color: \"#fff\"\n  },\n  logo: {\n    marginTop: 30\n  },\n  btnReportes: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginHorizontal: \"7%\",\n    borderWidth: 1,\n    borderColor: \"#1b3258\",\n    marginTop: 5,\n    borderRadius: 10,\n    paddingVertical: \"3%\"\n  },\n  textReportes: {\n    fontSize: 16,\n    textAlign: \"center\",\n    marginRight: \"5%\"\n  },\n  icon: {\n    color: \"#1cac84\",\n    alignItems: \"flex-start\",\n    marginLeft: 15\n  },\n  containerButtons: {\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\",\n    marginHorizontal: 30\n  }\n});","map":{"version":3,"sources":["C:/Users/Marco/Downloads/SIACI (1)/navegacion/src/screens/Profile.js"],"names":["React","useEffect","useState","useRef","Button","Icon","firebase","useNavigation","UserInfo","Toast","Loading","UserOption","TouchableOpacity","Profile","props","navegacion","userInfo","setUserInfo","toastRef","loading","setLoading","loadingText","setLoadingText","login","setLogin","auth","onAuthStateChanged","user","currentUser","styles","containerButtons","btnReportes","icon","textReportes","navigate","btnCloseSession","btnTitle","signOut","alignItems","logo","require","btnContainer","btnText","StyleSheet","create","width","borderRadius","backgroundColor","marginTop","padding","paddingHorizontal","color","fontSize","height","flexDirection","justifyContent","marginHorizontal","borderWidth","borderColor","paddingVertical","textAlign","marginRight","marginLeft"],"mappings":"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","sourcesContent":["import { StyleSheet, Text, View, Image } from \"react-native\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { Button, Icon } from \"react-native-elements\";\nimport * as firebase from \"firebase\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport UserInfo from \"../components/account/UserInfo\";\nimport Toast from \"react-native-easy-toast\";\nimport Loading from \"../components/Loading\";\nimport UserOption from \"../components/account/UserOption\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\n\nexport default function Profile(props) {\n  const {} = props;\n  const navegacion = useNavigation();\n  const [userInfo, setUserInfo] = useState(null);\n  const toastRef = useRef();\n  const [loading, setLoading] = useState(false);\n  const [loadingText, setLoadingText] = useState(\"\");\n  const [login, setLogin] = useState(null);\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged((user) => {\n      !user ? setLogin(false) : setLogin(true);\n    });\n  }, []);\n  useEffect(() => {\n    (async () => {\n      const user = await firebase.auth().currentUser;\n      setUserInfo(user);\n    })();\n  }, []);\n  if (login === null) return <Loading />;\n  if (login) {\n    return (\n      <View style={styles.userInfo}>\n        {userInfo && (\n          <UserInfo\n            userInfo={userInfo}\n            toastRef={toastRef}\n            setLoading={setLoading}\n            setLoadingText={setLoadingText}\n          />\n        )}\n        <UserOption userInfo={userInfo} toastRef={toastRef} />\n        <View style={styles.containerButtons}>\n          <View style={styles.btnReportes}>\n            <Icon\n              type=\"material-community\"\n              name=\"text-box-search-outline\"\n              iconStyle={styles.icon}\n            />\n            <TouchableOpacity>\n              <Text\n                style={styles.textReportes}\n                onPress={() => navegacion.navigate(\"listReportes\")}\n              >\n                Ver reportes\n              </Text>\n            </TouchableOpacity>\n          </View>\n          <View style={styles.btnReportes}>\n            <Icon\n              type=\"material-community\"\n              name=\"note-plus-outline\"\n              iconStyle={styles.icon}\n            />\n            <TouchableOpacity>\n              <Text\n                style={styles.textReportes}\n                onPress={() => navegacion.navigate(\"agregarNoticia\")}\n              >\n                Agregar Noticias\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n        <Button\n          title=\"Cerrar Sesión\"\n          buttonStyle={styles.btnCloseSession}\n          titleStyle={styles.btnTitle}\n          onPress={() => {\n            firebase.auth().signOut();\n            navegacion.navigate(\"index\");\n          }}\n        />\n        <Toast ref={toastRef} position=\"center\" opacity={0.9} />\n        <Loading isVisible={loading} text={loadingText} />\n      </View>\n    );\n  } else {\n    return (\n      <View style={{ alignItems: \"center\" }}>\n        <Image\n          style={styles.logo}\n          resizeMode=\"contain\"\n          source={require(\"../../assets/cecadec.jpg\")}\n        />\n        <TouchableOpacity style={styles.btnContainer}>\n          <Text\n            style={styles.btnText}\n            onPress={() => navegacion.navigate(\"index\")}\n          >\n            Debes Iniciar Sesión\n          </Text>\n        </TouchableOpacity>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  btnContainer: {\n    width: \"90%\",\n    borderRadius: 10,\n    backgroundColor: \"#1b3258\",\n    marginTop: 100,\n    padding: 5,\n    paddingHorizontal: 15,\n  },\n  btnText: {\n    color: \"#fff\",\n    fontSize: 18,\n  },\n  userInfo: {\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    height: \"100%\",\n  },\n  btnCloseSession: {\n    marginTop: 40,\n    backgroundColor: \"#1b3258\",\n    borderRadius: 10,\n    padding: 7,\n    paddingHorizontal: 30,\n  },\n  btnTitle: {\n    color: \"#fff\",\n  },\n  logo: {\n    marginTop: 30,\n  },\n  btnReportes: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginHorizontal: \"7%\",\n    borderWidth: 1,\n    borderColor: \"#1b3258\",\n    marginTop: 5,\n    borderRadius: 10,\n    paddingVertical: \"3%\",\n  },\n  textReportes: {\n    fontSize: 16,\n    textAlign: \"center\",\n    marginRight: \"5%\",\n  },\n  icon: {\n    color: \"#1cac84\",\n    alignItems: \"flex-start\",\n    marginLeft: 15,\n  },\n  containerButtons: {\n    flexDirection: \"row\",\n    justifyContent:\"space-evenly\",\n    marginHorizontal:30\n  },\n});\n"]},"metadata":{},"sourceType":"module"}