{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport Vibration from \"react-native-web/dist/exports/Vibration\";\nimport React, { useState } from \"react\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport firebase from \"../utils/firebase\";\nimport Loading from \"../components/Loading\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function AgregarNoticia() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loadingText = _useState4[0],\n      setLoadingText = _useState4[1];\n\n  var _useState5 = useState(\"https://via.placeholder.com/200\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      imagen = _useState6[0],\n      setImagen = _useState6[1];\n\n  var _useState7 = useState(\"https://via.placeholder.com/200\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      uri = _useState8[0],\n      setUri = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      titulo = _useState10[0],\n      setTitulo = _useState10[1];\n\n  var _useState11 = useState(null),\n      _useState12 = _slicedToArray(_useState11, 2),\n      noticia = _useState12[0],\n      setNoticia = _useState12[1];\n\n  var takePic = function takePic() {\n    var pickerResult, foto;\n    return _regeneratorRuntime.async(function takePic$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchCameraAsync({\n              base64: true,\n              allowsEditing: false,\n              aspect: [4, 3]\n            }));\n\n          case 2:\n            pickerResult = _context.sent;\n            foto = pickerResult.uri;\n            setImagen(pickerResult.uri);\n            setUri(foto);\n            console.log(\"URI FOTO = \" + foto);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var selectImage = function selectImage() {\n    var pickerResult, foto;\n    return _regeneratorRuntime.async(function selectImage$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              base64: true,\n              allowsEditing: true,\n              aspect: [4, 3]\n            }));\n\n          case 2:\n            pickerResult = _context2.sent;\n            foto = pickerResult.uri;\n            setImagen(pickerResult.uri);\n            setUri(foto);\n            console.log(\"URI FOTO = \" + foto);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var enviarDatos = function enviarDatos() {\n    var id;\n    return _regeneratorRuntime.async(function enviarDatos$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!(titulo && noticia && uri != \"https://via.placeholder.com/200\")) {\n              _context3.next = 12;\n              break;\n            }\n\n            id = firebase.db.collection(\"noticias\").doc().path;\n            console.log(\"ID = \" + id);\n            console.log(\"TITULO = \" + titulo);\n            console.log(\"NOTICIA = \" + noticia);\n            console.log(\"URI RECIBIDA = \" + uri);\n            setLoading(true);\n            setLoadingText(\"Cargando noticia...\");\n            _context3.next = 10;\n            return _regeneratorRuntime.awrap(firebase.db.collection(\"noticias\").add({\n              titulo: titulo,\n              noticia: noticia,\n              foto: uri\n            }).then(function () {\n              setLoading(false);\n              cleanForm();\n              toast();\n            }).catch(function () {\n              setLoading(false);\n              ToastAndroid.show(\"Error al agregar la noticia!!\", ToastAndroid.SHORT);\n            }));\n\n          case 10:\n            _context3.next = 14;\n            break;\n\n          case 12:\n            ToastAndroid.show(\"Debes de llenar todos los campos !!\", ToastAndroid.SHORT);\n            vibrar();\n\n          case 14:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var vibrar = function vibrar() {\n    return Vibration.vibrate();\n  };\n\n  var cleanForm = function cleanForm() {\n    setTitulo(null);\n    setNoticia(null);\n    setImagen(\"https://via.placeholder.com/200\");\n    setUri(\"https://via.placeholder.com/200\");\n  };\n\n  var toast = function toast() {\n    ToastAndroid.showWithGravity(\"Noticia agregada con exito !!\", ToastAndroid.LONG, ToastAndroid.CENTER);\n  };\n\n  return _jsxs(View, {\n    children: [_jsxs(View, {\n      style: styles.containerGral,\n      children: [_jsx(Loading, {\n        isVisible: loading,\n        text: loadingText\n      }), _jsx(Text, {\n        style: styles.texts,\n        children: \"T\\xEDtulo:\"\n      }), _jsx(TextInput, {\n        placeholder: \"T\\xEDtulo de la noticia\",\n        style: styles.inputs,\n        multiline: true,\n        value: titulo,\n        onChange: function onChange(value) {\n          return setTitulo(value.nativeEvent.text);\n        }\n      })]\n    }), _jsxs(View, {\n      style: styles.containerGral,\n      children: [_jsx(Text, {\n        style: styles.texts,\n        children: \"Noticia:\"\n      }), _jsx(TextInput, {\n        placeholder: \"Contenido de la noticia\",\n        style: styles.inputs,\n        multiline: true,\n        value: noticia,\n        onChange: function onChange(value) {\n          return setNoticia(value.nativeEvent.text);\n        }\n      })]\n    }), _jsxs(View, {\n      style: styles.containerBtnsCamara,\n      children: [_jsx(TouchableOpacity, {\n        style: styles.btnTomarFoto,\n        onPress: takePic,\n        children: _jsx(Text, {\n          style: styles.textBtnTomarFoto,\n          children: \"Tomar Foto\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.btnTomarFoto,\n        onPress: selectImage,\n        children: _jsx(Text, {\n          style: styles.textBtnTomarFoto,\n          children: \"Seleccionar Imagen\"\n        })\n      }), _jsx(Image, {\n        style: {\n          alignSelf: \"center\",\n          height: 150,\n          width: 150,\n          marginTop: 5\n        },\n        source: {\n          uri: imagen\n        }\n      }), _jsx(TouchableOpacity, {\n        style: styles.btnEnviar,\n        children: _jsx(Text, {\n          style: styles.textBtnEnviar,\n          onPress: enviarDatos,\n          children: \"Agregar\"\n        })\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  containerGral: {\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\",\n    marginTop: 10\n  },\n  inputs: {\n    borderWidth: 1,\n    borderColor: \"black\",\n    padding: 5,\n    borderRadius: 10,\n    width: \"80%\",\n    color: \"#1b3258\",\n    fontSize: 16\n  },\n  texts: {\n    marginTop: 5,\n    fontSize: 18,\n    fontWeight: \"bold\"\n  },\n  containerBtnsCamara: {\n    alignItems: \"center\"\n  },\n  btnTomarFoto: {\n    backgroundColor: \"#1b3258\",\n    padding: 7,\n    borderRadius: 10,\n    marginTop: 10,\n    marginBottom: 10\n  },\n  textBtnTomarFoto: {\n    color: \"#fff\",\n    fontSize: 16,\n    marginHorizontal: 10\n  },\n  btnEnviar: {\n    backgroundColor: \"#1cac84\",\n    padding: 10,\n    borderRadius: 10,\n    marginTop: 25,\n    borderWidth: 1,\n    borderColor: \"black\"\n  },\n  textBtnEnviar: {\n    color: \"#fff\",\n    fontSize: 17\n  }\n});","map":{"version":3,"sources":["C:/Users/Marco/Downloads/SIACI (1)/navegacion/src/screens/AgregarNoticia.js"],"names":["React","useState","ImagePicker","firebase","Loading","AgregarNoticia","loading","setLoading","loadingText","setLoadingText","imagen","setImagen","uri","setUri","titulo","setTitulo","noticia","setNoticia","takePic","launchCameraAsync","base64","allowsEditing","aspect","pickerResult","foto","console","log","selectImage","launchImageLibraryAsync","enviarDatos","id","db","collection","doc","path","add","then","cleanForm","toast","catch","ToastAndroid","show","SHORT","vibrar","Vibration","vibrate","showWithGravity","LONG","CENTER","styles","containerGral","texts","inputs","value","nativeEvent","text","containerBtnsCamara","btnTomarFoto","textBtnTomarFoto","alignSelf","height","width","marginTop","btnEnviar","textBtnEnviar","StyleSheet","create","flexDirection","justifyContent","borderWidth","borderColor","padding","borderRadius","color","fontSize","fontWeight","alignItems","backgroundColor","marginBottom","marginHorizontal"],"mappings":"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","sourcesContent":["import { StyleSheet, Text, View,TextInput,TouchableOpacity,Image,ToastAndroid,Vibration } from \"react-native\";\r\nimport React, { useState } from \"react\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport firebase from \"../utils/firebase\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nexport default function AgregarNoticia() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingText, setLoadingText] = useState(\"\");\r\n  const [imagen, setImagen] = useState(\"https://via.placeholder.com/200\");\r\n  const [uri, setUri] = useState(\"https://via.placeholder.com/200\");\r\n  const [titulo, setTitulo] = useState(null)\r\n  const [noticia, setNoticia] = useState(null)\r\n\r\n  const takePic = async () => {\r\n    let pickerResult = await ImagePicker.launchCameraAsync({\r\n      base64: true,\r\n      allowsEditing: false,\r\n      aspect: [4, 3],\r\n    });\r\n    // setImagen(`data:image/jpg;base64,${pickerResult.base64}`);\r\n    const foto = pickerResult.uri;\r\n    setImagen(pickerResult.uri);\r\n    setUri(foto);\r\n    console.log(\"URI FOTO = \" + foto);\r\n  };\r\n  const selectImage = async () => {\r\n    let pickerResult = await ImagePicker.launchImageLibraryAsync({\r\n      base64: true,\r\n      allowsEditing: true,\r\n      aspect: [4, 3],\r\n    });\r\n    const foto = pickerResult.uri;\r\n    setImagen(pickerResult.uri);\r\n    setUri(foto);\r\n    console.log(\"URI FOTO = \" + foto);\r\n  };\r\n  //FUNCTION SEND DATA\r\n  const enviarDatos = async () => {\r\n    if (\r\n      titulo && noticia &&\r\n      uri != \"https://via.placeholder.com/200\"\r\n    ) {\r\n      const id = firebase.db.collection(\"noticias\").doc().path\r\n      console.log(\"ID = \" + id);\r\n      console.log(\"TITULO = \"+titulo)\r\n      console.log(\"NOTICIA = \"+noticia)\r\n      console.log(\"URI RECIBIDA = \" + uri);\r\n      //--------SHOW LOADING AND TEXT ------------\r\n      setLoading(true);\r\n      setLoadingText(\"Cargando noticia...\");\r\n      //Enviando datos a firebase\r\n      await firebase.db\r\n        .collection(\"noticias\")\r\n        .add({\r\n          titulo: titulo,\r\n          noticia: noticia,\r\n          foto: uri\r\n        })\r\n        .then(() => {\r\n          setLoading(false);\r\n          cleanForm();\r\n          toast();\r\n        })\r\n        .catch(() => {\r\n          setLoading(false);\r\n          ToastAndroid.show(\r\n            \"Error al agregar la noticia!!\",\r\n            ToastAndroid.SHORT\r\n          );\r\n        });\r\n    } else {\r\n      ToastAndroid.show(\r\n        \"Debes de llenar todos los campos !!\",\r\n        ToastAndroid.SHORT\r\n      );\r\n      vibrar();\r\n    }\r\n  };\r\n  const vibrar = () => Vibration.vibrate();\r\n  const cleanForm = () => {\r\n   setTitulo(null)\r\n   setNoticia(null)\r\n   setImagen(\"https://via.placeholder.com/200\");\r\n   setUri(\"https://via.placeholder.com/200\")\r\n  };\r\n  //----------T O A S T--------------\r\n  const toast = () => {\r\n    ToastAndroid.showWithGravity(\r\n      \"Noticia agregada con exito !!\",\r\n      ToastAndroid.LONG,\r\n      ToastAndroid.CENTER\r\n    );\r\n  };\r\n  return <View>\r\n    <View style={styles.containerGral}>\r\n    <Loading isVisible={loading} text={loadingText} />\r\n      <Text style={styles.texts}>Título:</Text>\r\n      <TextInput placeholder=\"Título de la noticia\" style={styles.inputs}\r\n      multiline={true}\r\n      value={titulo}\r\n      onChange={(value) => setTitulo(value.nativeEvent.text)}\r\n      />\r\n    </View>\r\n    <View style={styles.containerGral}>\r\n      <Text style={styles.texts}>Noticia:</Text>\r\n      <TextInput placeholder=\"Contenido de la noticia\" style={styles.inputs} multiline={true}\r\n      value={noticia}\r\n      onChange={(value) => setNoticia(value.nativeEvent.text)}\r\n      />\r\n    </View>\r\n    <View style={styles.containerBtnsCamara}>\r\n          <TouchableOpacity style={styles.btnTomarFoto} onPress={takePic}>\r\n            <Text style={styles.textBtnTomarFoto}>Tomar Foto</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.btnTomarFoto} onPress={selectImage}>\r\n            <Text style={styles.textBtnTomarFoto}>Seleccionar Imagen</Text>\r\n          </TouchableOpacity>\r\n          <Image\r\n            style={{\r\n              alignSelf: \"center\",\r\n              height: 150,\r\n              width: 150,\r\n              marginTop: 5,\r\n            }}\r\n            source={{ uri: imagen }}\r\n          />\r\n          <TouchableOpacity style={styles.btnEnviar}>\r\n            <Text style={styles.textBtnEnviar} onPress={enviarDatos}>\r\n              Agregar\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n  </View>;\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  containerGral:{\r\n    flexDirection:\"row\",\r\n    justifyContent:\"space-evenly\",\r\n    marginTop:10\r\n  },\r\n  inputs:{\r\n    borderWidth:1,\r\n    borderColor:\"black\",\r\n    padding:5,\r\n    borderRadius:10,\r\n    width:\"80%\",\r\n    color:\"#1b3258\",\r\n    fontSize:16\r\n  },\r\n  texts:{\r\n    marginTop:5,\r\n    fontSize:18,\r\n    fontWeight:\"bold\"\r\n  },\r\n  containerBtnsCamara: {\r\n    alignItems: \"center\",\r\n  },\r\n  btnTomarFoto: {\r\n    backgroundColor: \"#1b3258\",\r\n    padding: 7,\r\n    borderRadius: 10,\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n  textBtnTomarFoto: {\r\n    color: \"#fff\",\r\n    fontSize: 16,\r\n    marginHorizontal: 10,\r\n  },\r\n  btnEnviar: {\r\n    backgroundColor: \"#1cac84\",\r\n    padding: 10,\r\n    borderRadius: 10,\r\n    marginTop: 25,\r\n    borderWidth: 1,\r\n    borderColor: \"black\",\r\n  },\r\n  textBtnEnviar: {\r\n    color: \"#fff\",\r\n    fontSize: 17,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}